package com.ies.servidoreco;

public class LanzadorClientes {
	public boolean servidorAtendioClientes(int numClientes){
		//En este metodo lanzamos x clientes y luego comprobamos
		//si todos funcionaron bien. Si todo fue bien
		//devolvemos true y si no devolveremos false
		Thread[] hilos=new Thread[numClientes];
		for (int i=0;i<numClientes;i++){
			Cliente cliente=new Cliente();
			Thread hiloAsociado=new Thread(cliente);
			hiloAsociado.start();
		}
		/* Esperamos que todos los hilos acaben
		 * dandoles un plazo maximo de 10.000 ms
		 * Si en ese tiempo no se complet贸
		 * una operaci贸n tan simple, probablemente
		 * el servidor fall贸*/
		for (int i=0; i<numClientes; i++){
			try {
				hilos[i].join(10000);
			} catch (InterruptedException e) {
				System.out.println(
					"Se interrumpi贸 un hilo por parte "+
					"de alguna clase del cliente ");
			}
		}
	}
	public static void main(String[] args) {
		// TODO Auto-generated method stub

	}

}
