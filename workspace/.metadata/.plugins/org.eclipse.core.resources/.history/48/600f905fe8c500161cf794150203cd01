import java.io.IOException;

public class Lanzador {

	public static void main(String[] args) throws IOException, InterruptedException {
		int NUM_HILOS=29;
        ProcesadorMensajes pm=new ProcesadorMensajes(Utilidades.getPrintWriter("Trazas.txt"));
        GeneradorMensaje gm;
        Thread[] hilos=new Thread[NUM_HILOS];
        for (int i=0; i<NUM_HILOS; i++)
        {
              gm=new GeneradorMensaje("Generador "+Utilidades.anadirCeros(i+1),pm);
              hilos[i]=new Thread(gm);
              hilos[i].start();
        }
        for (int i = 0; i < NUM_HILOS; i++) {
            hilos[i].join();
        }
        pm.closePrintWriter();
        System.out.println("El total de mensajes impresos es "+pm.getContador());
        

	}

}
